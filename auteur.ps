%!PS

%This Source Code Form is subject to the terms of the Mozilla Public
%License, v. 2.0. If a copy of the MPL was not distributed with this
%file, You can obtain one at https://mozilla.org/MPL/2.0/.

%Copyright (c) 2021 David Jackson

% Font
/fontsize 12 def
/Courier fontsize selectfont

% Page Dimensions
/page_top { 11 72 mul } bind def
/page_width { 8.5 72.0 mul } bind def
/page_mid { page_width 2.0 div } bind def

% Margins
/margin_left { 1.5 72.0 mul } bind def
/margin_top 72.0 def
/margin_right { page_width 72.0 sub } bind def
/margin_dialogue { 2.5 72.0 mul } bind def
/margin_speaker { 4.0 72 mul } bind def
/margin_page_number { 0.75 72 mul page_width exch sub } bind def

% Position in Page
/hpos margin_left def
/vpos { page_top margin_top sub } bind def

% Alignment
/align_left { /hpos margin_left def } bind def
/align_start { align_left
	page_top margin_top sub
	/vpos exch def } bind def
/align_center { /hpos page_mid def } bind def
/align_right { /hpos margin_right def } bind def
/align_speaker { /hpos margin_speaker def } bind def
/align_parenthetical { margin_speaker 0.5 sub
	/hpos exch def } bind def
/align_dialogue { /hpos margin_dialogue def } bind def

% Text Printing
/print_left { align_left
	hpos vpos moveto
	show } bind def
/print_center { dup
	stringwidth pop 2.0 div
	page_mid exch sub
	/hpos exch def
	hpos vpos moveto
	show } bind def
/print_right { align_right
	dup
	stringwidth pop
	hpos exch sub
	/hpos exch def
	hpos vpos moveto
	show } bind def
/print_dialogue { align_dialogue
	hpos vpos moveto
	show } bind def
/print_title { dup
	stringwidth exch pop 2.0 div
	page_top 2.0 div
	exch sub
	/vpos exch def
	align_center
	print_center } bind def
/print_page_number { dup
	stringwidth pop
	margin_page_number exch sub
	/hpos exch def
	0.5 72.0 mul page_top exch sub
	/vpos exch def
	hpos vpos moveto
	show } bind def
/print_speaker { align_speaker
	hpos vpos moveto
	show } bind def
/print_parenthetical { align_parenthetical
	hpos vpos moveto
	show } bind def

% Newline
/newline { vpos fontsize sub
	/vpos exch def } bind def

% Screenplay Begin
